!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,r=!1,o=undefined;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(c){r=!0,o=c}finally{try{i||null==s["return"]||s["return"]()}finally{if(r)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var i=function(){for(var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:10,t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",i=0;i<e;i++){var r=Math.floor(Math.random()*t.length);n+=t.charAt(r)}return n};var r=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)};function o(e,t){this.opts=t,this.win=e,this.doc=this.win.document,this.nextNodeId=0}(function(e){e})((function(e){console.warn(e)})),o.prototype.init=function(){var e=this;r(this.win,"click",(function(t){var n=t.clientX,i=t.clientY,r=window.innerWidth,o=window.innerHeight;e.emit("click",{x:n,y:i,width:r,height:o})})),r(this.win,"focus",(function(t){e.emit("state","active")})),r(this.win,"blur",(function(t){e.emit("state","inactive")}))},o.prototype.capture=function(){return{docType:this.getPageDocType(),tree:this.serializeNode(this.doc.documentElement)}},o.prototype.startRecording=function(){var e=this;if(window.Node&&window.XMLHttpRequest){var t=this.getPageDocType(),n=this.serializeNode(this.doc.documentElement),i=this.win.location.href,o=window.innerWidth,a=window.innerHeight,s=this.win.scrollX,c=this.win.scrollY;this.emit("navigate",{url:i,width:o,height:a,scrollX:s,scrollY:c,docType:t,tree:n}),this.observeMutations(),r(this.doc,"mouseover",(function(t){e.emit("hover",t.target.__siId)})),r(this.win,"resize",(function(){var t=window.innerWidth,n=window.innerHeight;e.emit("resize",{width:t,height:n})})),r(this.win,"scroll",(function(){var t=e.win.scrollX,n=e.win.scrollY;e.emit("scroll",{x:t,y:n})})),r(this.win,"mousemove",(function(t){var n=t.clientX,i=t.clientY;e.emit("mousemove",{x:n,y:i})}))}},o.prototype.emit=function(e,t){this.opts.callback({event:e,data:t})},o.prototype.getPageDocType=function(){var e=this.doc.doctype;if(!e)return"";var t="<!DOCTYPE "+(e.name||"html");return e.publicId&&(t+=' PUBLIC "'+e.publicId+'"'),!e.publicId&&e.systemId&&(t+=" SYSTEM"),e.systemId&&(t+=' "'+e.systemId+'"'),t+=">"},o.prototype.serializeNode=function(e){e.__siId||(e.__siId=++this.nextNodeId);var t={nodeType:e.nodeType,id:e.__siId};switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:t.name=""!==e.name?e.name:"html",t.publicId=e.publicId,t.systemId=e.systemId;break;case Node.COMMENT_NODE:case Node.TEXT_NODE:t.textContent=e.textContent||"";break;case Node.ELEMENT_NODE:t.tagName=e.tagName,t.attributes={};for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n];t.attributes[i.name]=i.nodeValue}if(e&&e.namespaceURI&&"http://www.w3.org/1999/xhtml"!==e.namespaceURI&&(t.namespaceURI=e.namespaceURI),"LINK"===e.tagName&&"stylesheet"===e.getAttribute("rel")&&e.href&&(t.attributes.href=e.href,t.dataType="css"),"IMG"===t.tagName&&e.currentSrc&&(t.attributes.src=e.currentSrc),"SCRIPT"===t.tagName||"NOSCRIPT"===t.tagName)t.childNodes=[{nodeType:Node.TEXT_NODE,textContent:""}];else if(e.childNodes.length){t.childNodes=[];for(var r=e.firstChild;r;r=r.nextSibling)r.__siIgnore||t.childNodes.push(this.serializeNode(r))}}return t},o.prototype.observeMutations=function(){var e=this;if(window.MutationObserver){var t=document.documentElement;new MutationObserver((function(t,n){for(var i=function(n){var i=t[n];if("attributes"===i.type)e.emit("mutation",{id:i.target.__siId,type:i.type,attr:i.attributeName,val:i.target.getAttribute(i.attributeName)});else if("childList"===i.type){var r=[];i.removedNodes.forEach((function(e){var t=e.__siId;t&&r.push(t)}));var o=[];i.addedNodes.forEach((function(t){if(!t.__siIgnore){var n=e.serializeNode(t);if(n){var r=i.nextSibling?i.nextSibling.__siId:null;o.push([n,r])}}})),e.emit("mutation",{id:i.target.__siId,type:i.type,removed:r,added:o})}},r=0;r<t.length;r++)i(r)})).observe(t,{attributes:!0,childList:!0,subtree:!0})}};var a=function(e){var t=("; "+document.cookie).split("; "+e+"=");if(t.length>=2)return t.pop().split(";").shift()},s=function(e,t,n,i){var r="",o="";if(n){var a=new Date;a.setTime(a.getTime()+1e3*n),r="; expires="+a.toUTCString()}i&&(o="; domain="+i);var s=e+"="+(t||"")+r+o+"; path=/; SameSite=Lax";return document.cookie=s,s};function c(t){if(t===undefined)return undefined;if(null===t)return"null";if("NaN"===t.toString())return"null";if(t===Infinity)return"null";if("string"==typeof t)return'"'+t.replace(/"/g,'\\"')+'"';if("number"==typeof t)return String(t);if("boolean"==typeof t)return t?"true":"false";if(t instanceof Array){for(var n=[],i=0;i<t.length;i++){var r=c(t[i]);r===undefined&&(r="null"),n.push(r)}return"["+n.join(",")+"]"}if("object"===e(t)){var o=[];for(var a in t){var s=c(a),u=c(t[a]);u!==undefined&&o.push(s+":"+u)}return"{"+o.join(",")+"}"}return"{}"}var u,d,f,l,h,m,p=function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1];return window.JSON&&window.JSON.stringify?t?JSON.stringify(e,"",4):JSON.stringify(e):c(e)},v=function(e,t){try{return JSON.parse(e)}catch(n){return t}},g={queryToString:function(t){var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r!==undefined){(r&&"object"===e(r)||r instanceof Array)&&(r=p(r));var o=this.encode(i)+"="+this.encode(r);n.push(o)}}return n.join("&")},encode:function(e){return encodeURIComponent(e)},decode:function(e){return decodeURIComponent(e)},getDomainFromUrl:function(e){var t=arguments.length>1&&arguments[1]!==undefined&&arguments[1],n=String(e).trim().toLowerCase().replace(/^https?:\/\//i,"").replace(/\/.*/,"");return t||(n=n.replace(/^www\./i,"")),n},getRelativeUrl:function(e){return e?e.replace(/^https?:\/\/[^\/]+/i,""):""}},w="si_ses_id",y="si_usr_id",b="https://statinside.com",I=a(w),N=a(y),T="",S=[],E=[],_=0,O=0,D=0,M=(document.hasFocus&&document.hasFocus(),0),k=0,C=0,x={},L=0,A=(new Date).getTime(),P=!1,R=[];function U(t,n,i){var r=arguments.length>3&&arguments[3]!==undefined&&arguments[3];if("tag"===t||"tags"===t||"goal"===t){if(n instanceof Array)for(var o=0;o<n.length;o++)E.push({type:"tag",key:n[o]});else E.push({type:"tag",key:n});r&&Y()}else if("userId"===t)E.push({type:"userId",key:n}),r&&Y();else if("attr"===t){if(n&&"object"===e(n))for(var a in n)n.hasOwnProperty&&!n.hasOwnProperty(a)||E.push({type:t,key:a,val:n[a]});else E.push({type:t,key:n,val:i});r&&Y()}else"ab"===t?setTimeout((function(){j(n,i,r)}),1):"action"===t?d?H(n,i):R.push([n,i]):"hit"===t?z({repeat:!0},(function(e){var t;t="string"==typeof e?v(e,{}):e,d=t.res&&t.res.viewId||d})):"page"===t?T=n:"cookie"===t&&(u=n)}function j(e,t,n){if(!e.name||"string"!=typeof e.name)throw new Error("A/B testing opts.name must be string");var i="si_ab_"+e.name,r=a(i);if(!r){var o=0,s=[];for(var c in e.variants){if(!e.variants.hasOwnProperty||e.variants.hasOwnProperty(c))o+=parseInt(e.variants[c])||1,s.push({val:c,top:o})}for(var u=Math.floor(Math.random()*o),d=0;d<s.length;d++)if(u<s[d].top){r=s[d].val;break}}if(r){X(i,r,900),setInterval((function(){X(i,r,900)}),6e4),E.push({type:"ab",key:e.name,val:r}),n&&Y(),t(r)}}function H(e,t,n){z({action:e,custom:t})}function X(e,t,n){s(e,t,n,u)}function z(e,t){var n=b+"/api/add-hit",i={ver:1,viewId:e&&e.repeat?undefined:d,visitorId:N,sessionId:I,userId:x.userId,custom:e?e.custom:x.custom,group:x.group,accountId:f,referrer:document.referrer,url:location.href,page:T,topFrame:window.top===window?1:0,tz:(new Date).getTimezoneOffset(),features:E,action:e?e.action:undefined};E=[],function(e){window.screen&&(e.screen=screen.width+"*"+screen.height+"*"+(screen.colorDepth?screen.colorDepth:screen.pixelDepth)+"*"+(window.devicePixelRatio||0))}(i),function(e){try{e.notifPerm=window.Notification&&Notification.permission||"",e.navLang=navigator.language,e.navLangs=navigator.languages instanceof Array?navigator.languages.join(","):"",e.webdriver=navigator.webdriver,e.rtt=navigator.connection&&navigator.connection.rtt||0,e.mimeCnt=navigator.mimeTypes?navigator.mimeTypes.length:null,e.pluginsCnt=navigator.plugins?navigator.plugins.length:null}catch(t){}}(i),F(n,i,t)}function Y(){var e=arguments.length>0&&arguments[0]!==undefined&&arguments[0];e&&setTimeout((function(){return Y(!0)}),2e3);var t=!1===x.heartbeat;if(!t||E.length){var n=location.hostname,i=Math.round((new Date).getTime()-A),r={num:++_,viewId:d,sessionId:I,visitorId:N,accountId:f,domain:n,time:i,activeTime:O,scroll:D,clicksCnt:M,mDownCnt:k,mUpCnt:C,features:E};t||(r.events=S,S=[]),E=[];var o=b+"/api/send-heartbeat";q(o,r)}}function q(e,t){navigator.sendBeacon&&navigator.sendBeacon(e,p(t))||F(e,t)}function F(e,t,n){window.XMLHttpRequest?function(e,t,n){var i=p(t),r=new XMLHttpRequest;r.open("POST",e),r.setRequestHeader("Content-Type","text/plain"),r.onreadystatechange=function(){n&&4===r.readyState&&n(r.responseText)},r.send(i)}(e,t,n):function(e,t,n){var i=document.createElement("script");document.body.appendChild(i);var r="statinsideCallback"+ ++L;window[r]=function(e){return n&&n(e)};var o=(new Date).getTime()+Math.random(),a=g.queryToString(t)+"&callback=window."+r+"&_r="+o;i.src=e+"?"+a}(e,t,n)}!function(){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;t++){var n=e[t].getAttribute("data-statinside-id");if(n){f=n,b=e[t].getAttribute("data-endpoint")||b;break}}}(),function(){var e=window._siData;if(e&&e instanceof Array)for(var t=0;t<window._siData.length;t++){var n=e[t][0],i=e[t][1],r=e[t][2];x[n]=i,U(n,i,r)}window.statInside=function(e,t,n){x[e]=t,U(e,t,n,!0)}}(),m=1e3,setTimeout((function B(){document.hasFocus&&document.hasFocus()&&(O+=m),setTimeout(B,m)}),m),r(document,"click",(function(e){return M++})),r(document,"mousedown",(function(e){return k++})),r(document,"mouseup",(function(e){return C++})),r(window,"scroll",(function(e){if(100!==D)try{var t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,n=document.documentElement.scrollHeight,i=window.pageYOffset,r=Math.round(i/(n-t)*100);if(r>100)return;var o=Math.max(r,D);o>D&&(D=o)}catch(a){}})),function(){function e(e){("state"!==e.event||(e.data,P))&&S.push({event:e.event,time:(new Date).getTime(),data:e.data})}(l=new o(window,{callback:e})).init()}(),window.addEventListener&&window.addEventListener("message",(function(e){if("capture"===e.data.command){if(h)return;setTimeout((function(){h=l.capture(),e.source.window.postMessage({command:"capture_response",capture:h},"*")}),1e3)}})),z(null,(function(e){var n,r,o;(n="string"==typeof e?v(e,{}):e).res&&n.res.trackErrors&&window.addEventListener&&window.addEventListener("error",(function(e){try{var t=e.error&&e.error.stack,n={ts:Math.floor(e.timeStamp),msg:e.message,file:e.filename,line:e.lineno,col:e.colno,stack:t};S.push({event:"error",time:(new Date).getTime(),data:n})}catch(e){}})),(P=n.res&&n.res.record)&&l.startRecording(),d=n.res&&n.res.viewId||(r="v",o=(new Date).getTime(),Math.round(o/1e3).toString()+"-"+(r||"")+"-"+i(20)),function(){for(var e=0;e<R.length;e++){var n=t(R[e],2);H(n[0],n[1])}R=[]}(),N||(N=d),X(y,N,31536e3),function(){I||(I=d);var e=w,t=900;X(e,I,t),setInterval((function(){X(e,I,t)}),6e4)}(),Y(!0)}))}();
